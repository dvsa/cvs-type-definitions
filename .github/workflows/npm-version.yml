name: npm version PRs
on:
  push:
    branches: ["develop"]
  pull_request:
    branches: ["develop"]
jobs:
  merge-conflicts:
    runs-on: ubuntu-latest
    permissions:
      pull-requests: write
    steps:
      - uses: actions/github-script@v6
        id: get-refs
        with:
          script: |
            const pullRequests = (await github.rest.pulls.list({
                ...context.repo
            })).data

            const refs = pullRequests.map(pr => pr.head.ref)
            console.log(refs)
            return refs.join("\n")
      - name: Echo refs
        run: |
          for line in "${{steps.get-refs.outputs.result}}"; do echo $line; done
